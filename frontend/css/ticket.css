@layer components {
    /* Ticket Container */
    .ticket-container {
        @apply rounded-2xl flex flex-col justify-center mb-3 px-3 pt-2 pb-3;
        @apply bg-white border border-border shadow-md;
        @apply cursor-pointer select-none;
    }

    .ticket-header {
        @apply flex items-center justify-between;
    }

    .ticket-title {
        @apply flex items-center flex-grow pr-2 w-full md:w-auto;
        @apply text-text;
        @apply font-medium text-base;
    }

    .ticket-caret {
        @apply mr-2 flex-shrink-0;
        @apply pointer-events-none select-none;
    }

    .ticket-caret::before {
        @apply block w-0 h-0;
        @apply border-l-[6px] border-l-text border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent;
        @apply content-[''];
        @apply origin-center translate-y-0.5;
        @apply transition-transform duration-200;
    }

    details[open] .ticket-caret::before {
        @apply rotate-90;
        @apply transition-transform duration-200;
    }

    .ticket-details {
        @apply rounded-xl p-3 mt-4;
        @apply bg-bg border border-border shadow-inner;
    }

    .ticket-actions {
        @apply flex justify-end gap-2 mt-4;
    }

    .ticket-action-button {
        @apply inline-flex items-center py-1 px-3 rounded-full;
        @apply bg-surface border border-border shadow-md;
        @apply text-xs font-medium;
        @apply text-text;
        @apply no-underline transition-all duration-200;
    }

    .ticket-action-button:hover {
        @apply translate-y-0.5;
        @apply shadow-sm;
        @apply brightness-90;
    }

    /* Ticket Tags */
    .ticket-tag {
        @apply py-0.5 px-2 border border-gray-300;
        @apply bg-gray-100 text-gray-500;
        @apply font-ui text-xxs font-medium uppercase;
    }
    .ticket-tag--udn {
        @apply rounded-l-full border-r-0;
    }
    .ticket-tag--sector {
        @apply rounded-none border-l-0 border-r-0;
    }
    .ticket-tag--category {
        @apply rounded-r-full border-l-0;
    }

    /* Ticket Status */
    .ticket-status {
        @apply py-0.5 px-2 border rounded-full;
        @apply font-ui text-xxs font-medium uppercase tracking-wide;
        @apply select-none pointer-events-none;
    }
    .ticket-status--open {
        @apply bg-red-50 border border-red-200;
        @apply text-red-400;
    }
    .ticket-status--authorized {
        @apply bg-purple-100 border border-purple-200;
        @apply text-purple-500;
    }
    .ticket-status--budgeted {
        @apply bg-emerald-50 border border-emerald-200;
        @apply text-emerald-500;
    }
    .ticket-status--rejected {
        @apply bg-amber-100 border border-amber-200;
        @apply text-amber-600;
    }
    .ticket-status--payment_authorized {
        @apply bg-orange-50 border border-orange-200;
        @apply text-orange-500;
    }
    .ticket-status--processing_payment {
        @apply bg-cyan-100 border border-cyan-200;
        @apply text-cyan-600;
    }
    .ticket-status--shipping {
        @apply bg-fuchsia-100 border border-fuchsia-200;
        @apply text-fuchsia-500;
    }
    .ticket-status--closed {
        @apply bg-slate-100 border border-slate-200;
        @apply text-slate-400;
    }
    .ticket-status--unknown {
        @apply bg-gray-100 border border-gray-200;
        @apply text-gray-400;
    }

    /* Ticket Messages */
    .ticket-message {
        @apply mb-3;
    }

    .ticket-message__author {
        @apply ml-2;
        @apply text-gray-500;
        @apply text-xs italic;
        @apply translate-y-px;
    }

    .ticket-message__author-icon {
        @apply mr-1;
        @apply text-gray-400;
    }

    .ticket-message__body {
        @apply relative ml-8 mb-2 p-2 rounded-xl;
        @apply bg-white border border-border;
        @apply text-text;
        @apply text-sm;
        @apply cursor-default;
    }

    .ticket-message__body:empty {
        @apply hidden;
    }

    .ticket-message__date-inline {
        @apply absolute bottom-2 right-2;
        @apply text-gray-400 text-xxs italic;
        @apply pointer-events-none;
    }

    .ticket-message__date-standalone {
        @apply block text-right -mt-4 mr-2;
        @apply text-gray-400 text-xxs italic;
    }

    .message-attachments {
        @apply flex flex-col items-end space-y-1 mt-2 mx-4;
    }

    .attachment-link {
        @apply flex items-center;
        @apply text-earth-400 hover:text-earth-600;
        @apply text-xs;
        @apply no-underline transition-colors duration-200;
    }

    .attachment-icon::before {
        @apply mr-1;
        @apply text-xxs;
        @apply content-['âš¬'];
    }

    .attachment-name {
        @apply font-mono;
    }
}
