@layer components {
    .font-ui {
        @apply uppercase tracking-wide;
        font-family: var(--font-ui);
        font-feature-settings: 'kern' 1, 'liga' 1;
        -webkit-font-smoothing: antialiased;
    }

    .text-gradient {
        @apply bg-gradient-to-br from-primary to-accent bg-clip-text text-transparent;
    }

    .title-gradient {
        @apply bg-gradient-to-br from-primary to-accent bg-clip-text text-transparent;
        background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .radio-button-group {
        @apply flex flex-wrap w-full gap-x-3 gap-y-1.5;
    }

    .radio-button-group > div {
        @apply flex flex-1;
    }

    .radio-button {
        @apply inline-flex items-center justify-center w-full select-none;
        @apply px-5 py-3 rounded border font-semibold font-ui;
        @apply uppercase whitespace-nowrap tracking-wider text-lg;
        @apply shadow-md transition-all duration-200 cursor-pointer;
        @apply hover:shadow-lg hover:scale-[1.03] hover:brightness-90;
        @apply active:scale-95;
        @apply bg-surface text-text border-border;
    }
    .radio-button.peer-checked, .peer:checked + .radio-button {
        @apply bg-primary text-light border-primary;
    }

    .button-primary {
        @apply px-6 py-2 rounded-lg font-medium border-none cursor-pointer;
        @apply uppercase tracking-wide font-[var(--font-ui)];
        @apply bg-primary text-white;
        @apply button-effects;
    }

    .button-primary:disabled {
        @apply opacity-50 cursor-not-allowed;
        @apply hover:scale-100 hover:brightness-100;
        @apply active:scale-100;
        @apply transition-none;
    }

    .button-secondary {
        @apply px-6 py-2 rounded-lg font-medium border-2 cursor-pointer;
        @apply bg-transparent text-primary border-primary;
        @apply button-effects flex justify-center items-center;
    }

    .button-secondary:hover {
        @apply bg-primary text-white;
    }

    .button-secondary:disabled {
        @apply opacity-50 cursor-not-allowed;
        @apply hover:scale-100 hover:brightness-100;
        @apply active:scale-100;
        @apply transition-none;
        @apply hover:bg-transparent hover:text-primary;
    }
    
    .button-success {
        @apply px-6 py-2 rounded-lg font-medium border-none cursor-pointer;
        @apply bg-green-600 text-white;
        @apply button-effects;
    }

    .button-success:disabled {
        @apply opacity-50 cursor-not-allowed;
        @apply hover:scale-100 hover:brightness-100;
        @apply active:scale-100;
        @apply transition-none;
    }

    .button-success[disabled] {
        @apply text-zinc-500 cursor-not-allowed opacity-50;
        @apply bg-gray-600;
    }

    .button-cancel {
        @apply px-6 py-2 rounded-lg font-medium border-2 cursor-pointer;
        @apply bg-transparent text-accent border-accent;
        @apply button-effects;
    }

    .button-cancel:hover {
        @apply bg-accent text-white;
    }

    .button-cancel:disabled {
        @apply opacity-50 cursor-not-allowed;
        @apply hover:scale-100 hover:brightness-100;
        @apply active:scale-100;
        @apply transition-none;
        @apply hover:bg-transparent hover:text-accent;
    }

    .button-minimal {
        @apply px-4 py-2 rounded-lg font-medium border-none cursor-pointer;
        @apply bg-transparent text-primary border border-transparent;
        @apply button-effects-minimal;
    }

    .button-minimal:hover {
        @apply bg-surface border-border;
    }

    .button-minimal:disabled {
        @apply opacity-50 cursor-not-allowed;
        @apply hover:scale-100;
        @apply active:scale-100;
        @apply transition-none;
        @apply hover:bg-transparent hover:border-transparent;
    }

    .form-label {
        @apply block text-sm font-medium mb-2;
        @apply text-text font-[var(--font-ui)];
    }

    .form-input {
        @apply w-full px-3 py-2 border rounded-lg;
        @apply bg-white text-text border-border;
        @apply font-[var(--font-ui)];
        @apply transition-all duration-200;
    }

    .form-input:focus {
        @apply outline-none ring-2 border-primary;
        --tw-ring-color: rgb(226 232 240);
    }

    .form-input:invalid {
        @apply border-border;
    }

    .form-select {
        @apply w-full px-3 py-2 border rounded-lg cursor-pointer pr-10;
        @apply bg-white text-text border-border;
        @apply font-[var(--font-ui)];
        @apply transition-all duration-200;
        /* El ícono de flecha debe agregarse en el template con un elemento SVG, no en el CSS */
    }

    /* Form Elements - Elementos de Formulario */
    form {
        @apply p-0 m-0;
    }

    label {
        @apply block mb-2 font-medium uppercase tracking-wide;
        @apply text-text font-[var(--font-ui)];
    }

    input, textarea, select {
        @apply w-full px-3 py-2 mb-2 border-2 rounded-md;
        @apply bg-white border-border text-text;
        @apply transition-all duration-200;
    }

    input:focus, textarea:focus, select:focus {
        @apply outline-none border-2 border-primary;
    }

    button {
        @apply cursor-pointer;
    }

    /* Code and Preformatted Text - Código y Texto Preformateado */
    code, pre {
        @apply p-0 font-[var(--font-mono)];
    }

    code {
        @apply px-1 py-0.5 rounded text-sm;
        @apply bg-surface text-text;
    }

    pre {
        @apply p-3 mb-4 rounded overflow-x-auto;
        @apply bg-primary text-white;
    }

    /* ==========================================
       TAGS - Sistema de etiquetas
       ========================================== */
    
    /* Tag base genérico */
    .tag {
        @apply text-xs font-medium py-1 px-1 rounded-full leading-none whitespace-nowrap border-2;
        @apply font-[var(--font-ui)];
    }

    /* Tags individuales legacy (mantener para compatibilidad) */
    .tag-udn {
        @apply bg-yellow-100 text-accent border-accent;
    }

    .tag-sector {
        @apply text-xs font-medium py-1 px-1 rounded-full leading-none whitespace-nowrap border-2;
        @apply bg-surface text-text border-primary;
    }

    .tag-category {
        @apply bg-purple-100 text-purple-600 border-purple-300;
    }

    /* Estados de tags interactivos */
    .tag-unpressed {
        @apply bg-gray-100 text-gray-600 border-gray-300;
    }
    
    .tag-pressed {    
        @apply bg-surface text-text border-primary;
    }

    /* Tags unidos para tickets - Nuevos estilos específicos */
    .tags-ticket-udn {
        @apply bg-gray-50 text-gray-600 border border-gray-200;
        @apply rounded-l-full cursor-default uppercase;
        @apply text-[10px] py-0.5 px-2;
        border-right: none;
        margin-right: 0;
    }

    .tags-ticket-sector {
        @apply bg-gray-50 text-gray-600 border-t border-b border-gray-200;
        @apply rounded-none cursor-default uppercase;
        @apply text-[10px] py-0.5 px-2;
        border-left: none;
        border-right: none;
        margin-left: 0;
        margin-right: 0;
    }

    .tags-ticket-category {
        @apply bg-gray-50 text-gray-600 border border-gray-200;
        @apply rounded-r-full cursor-default uppercase;
        @apply text-[10px] py-0.5 px-2;
        border-left: none;
        margin-left: 0;
    }

    .status {
        @apply text-[10px] font-semibold py-0.5 px-2 rounded-full uppercase tracking-wide;
        @apply ml-1;
        @apply flex items-center justify-center;
        @apply h-5 min-h-5;
    }

    .status-open {
        @apply bg-red-100 text-red-600 border border-red-200;
    }

        .status-feedback {
        @apply bg-forest-200 text-forest-600;
    }
    
    .status-solved {
        @apply bg-green-100 text-green-700;
    }

    .status-authorized {
        @apply bg-purple-100 text-purple-600 border border-purple-200;
    }

    .status-budgeted {
        @apply bg-green-100 text-green-600 border border-green-200;
    }

    .status-rejected {
        @apply bg-yellow-100 text-yellow-600 border border-yellow-200;
    }

    .status-payment_authorized {
        @apply bg-orange-100 text-orange-600 border border-orange-200;
    }

    .status-processing_payment {
        @apply bg-cyan-100 text-cyan-600 border border-cyan-200;
    }

    .status-shipping {
        @apply bg-earth-50 text-earth-400 border border-earth-100;
    }

    .status-closed {
        @apply bg-forest-50 text-forest-300 border border-forest-100;
    }

    .status-unknown {
        @apply bg-gray-100 text-gray-400 border border-gray-200;
    }

    .text-status-open { @apply text-red-600; }
    .text-status-feedback { @apply text-forest-600; }
    .text-status-solved { @apply text-green-700; }
    .text-status-authorized { @apply text-purple-600; }
    .text-status-budgeted { @apply text-green-600; }
    .text-status-rejected { @apply text-yellow-600; }
    .text-status-payment_authorized { @apply text-orange-600; }
    .text-status-processing_payment { @apply text-cyan-600; }
    .text-status-shipping { @apply text-earth-400; }
    .text-status-closed { @apply text-forest-300; }
    .text-status-unknown { @apply text-gray-400; }

    .bg-status-open { @apply bg-red-100; }
    .bg-status-feedback { @apply bg-forest-200; }
    .bg-status-solved { @apply bg-green-100; }
    .bg-status-authorized { @apply bg-purple-100; }
    .bg-status-budgeted { @apply bg-green-100; }
    .bg-status-rejected { @apply bg-yellow-100; }
    .bg-status-payment_authorized { @apply bg-orange-100; }
    .bg-status-processing_payment { @apply bg-cyan-100; }
    .bg-status-shipping { @apply bg-earth-50; }
    .bg-status-closed { @apply bg-forest-100; }
    .bg-status-unknown { @apply bg-gray-100; }

    .card {
        @apply rounded-lg shadow-md;
        @apply bg-white border border-border;
        @apply card-hover-lift;
    }

    .card-header {
        @apply px-6 py-4 border-b;
        @apply border-border text-text;
    }

    .card-body {
        @apply px-6 py-4;
        @apply text-primary;
    }

    .card-footer {
        @apply px-6 py-4 border-t;
        @apply border-border bg-surface;

    }

    .alert {
        @apply px-4 py-3 rounded-lg border-l-4 mb-4;
        @apply font-[var(--font-ui)];
    }

    .alert-success {
        @apply bg-green-50 border-green-400 text-green-700;
    }

    .alert-error {
        @apply bg-red-50 border-red-400 text-red-700;
    }

    .app-card {
        @apply rounded-lg shadow-md overflow-hidden;
        @apply bg-white border border-border;
        @apply app-hover-scale;
    }

    .app-card-link {
        @apply flex items-center w-full h-full no-underline;
        @apply text-inherit;
    }

    .app-card-link:hover {
        @apply text-inherit no-underline;
    }

    .app-icon {
        @apply flex items-center justify-center text-white text-2xl pl-3;
        @apply w-20 h-20 min-w-20;
    }

    .app-icon.dev {
        @apply bg-gradient-to-br from-violet-500 to-violet-900;
    }

    .app-icon.welp-desk {
        @apply bg-gradient-to-br from-blue-500 to-blue-900;
    }

    .app-icon.welp-payflow {
        @apply bg-gradient-to-br from-emerald-500 to-emerald-900;
    }

    .app-icon.profile {
        @apply bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)];
    }

    .app-icon.admin {
        @apply bg-gradient-to-br from-orange-400 to-orange-800;
    }

    .app-icon.login {
        @apply bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-secondary)];
    }

    .app-content {
        @apply flex-1 p-6;
    }

    .app-title {
        @apply font-semibold text-lg mb-1;
        @apply text-text font-[var(--font-ui)];
    }

    .app-card:hover .app-title.dev {
        @apply text-violet-600;
    }

    .app-card:hover .app-title.welp-desk {
        @apply text-blue-600;
    }

    .app-card:hover .app-title.welp-payflow {
        @apply text-emerald-600;
    }

    .app-card:hover .app-title.profile {
        @apply text-primary;
    }

    .app-card:hover .app-title.admin {
        @apply text-orange-600;
    }

    .app-card:hover .app-title.login {
        @apply text-primary;
    }

    .app-description {
        @apply text-primary font-[var(--font-p)];
    }

    .app-badge {
        @apply inline-flex items-center gap-3;
    }

    .select-fields-body {
        @apply bg-white rounded-lg border border-border shadow-sm;
        @apply p-6 space-y-6;
    }
    
    .select-fields-body .form-group {
        @apply space-y-2;
    }
    
    .select-fields-body label {
        @apply block text-sm font-medium;
        @apply text-text font-[var(--font-ui)];
    }
    
    .select-fields-body input,
    .select-fields-body textarea {
        @apply w-full px-3 py-2 border rounded-md;
        @apply bg-white text-text border-forest-300;
        @apply focus:outline-none focus:ring-2 focus:border-forest-400;
        @apply transition-all duration-200;
        --tw-ring-color: rgb(226 232 240);
    }
    
    .select-fields-body textarea {
        @apply min-h-[100px] resize-y;
    }
    
    .select-fields-body input[type="file"] {
        @apply file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0;
        @apply file:text-sm file:font-medium file:cursor-pointer;
        @apply file:bg-surface file:text-text;
        @apply hover:file:bg-primary hover:file:text-white;
        @apply file:transition-all file:duration-200;
    }

    .select-field {
        @apply w-full;
    }

    .select-field-container {
        @apply bg-white border border-border rounded-lg;
    }

    .select-field .loading-state {
        @apply flex items-center justify-center p-8 text-primary;
        @apply font-[var(--font-ui)];
    }

    .select-field .help-text {
        @apply text-xs text-primary mt-1;
        @apply font-[var(--font-ui)];
    }

    .treemap-container {
        @apply flex flex-wrap gap-2 p-4 min-h-[120px];
        @apply bg-transparent;
    }



    .app-wide-button {
        @apply w-full flex items-center justify-center gap-4 py-8 px-6 rounded-lg border-2 cursor-pointer;
        @apply bg-white border-border text-text;
        @apply hover:bg-surface hover:border-primary;
        @apply transition-all duration-300 ease-in-out;
        @apply min-h-[120px] max-w-md mx-auto;
        @apply no-underline;
    }

    .app-wide-button:hover {
        @apply no-underline;
    }

    .app-wide-button.primary {
        @apply bg-primary text-white border-primary;
        @apply hover:bg-secondary hover:border-secondary;
    }

    .app-wide-button.secondary {
        @apply bg-transparent border-primary text-primary;
        @apply hover:bg-primary hover:text-white;
    }

    .app-wide-button-content {
        @apply flex flex-col items-center justify-center text-center;
    }

    .app-wide-button-icon {
        @apply text-4xl mb-2;
    }

    .app-wide-button-text {
        @apply text-lg font-ui;
    }

    .app-wide-actions {
        @apply grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto my-12;
    }

    @media (max-width: 640px) {
        .button-secondary {
            width: 100%;
        }
    }

    /* Ticket Components - Componentes de Tickets */
    
    .ticket-message-body {
        @apply ml-8 mb-2 bg-white border border-earth-200 text-sm p-1.5 rounded-xl text-earth-700;
        font-family: var(--font-ui);
    }

    .ticket-message-meta {
        @apply text-sm text-gray-500 italic ml-2;
        font-family: var(--font-ui);
    }

    .ticket-message-meta i {
        @apply not-italic;
    }

    .ticket-message-header {
        @apply flex justify-between items-center;
    }

    .ticket-message-date {
        @apply text-sm text-gray-500 ml-auto;
        font-family: var(--font-ui);
    }

    /* Ticket Components - 100% CSS Nativo */
    .ticket-container {
        @apply rounded-2xl p-3 mb-3 font-sans cursor-pointer;
        @apply transition-all duration-200 ease-out;
        @apply hover:shadow-md hover:bg-gray-50;
    }

    .ticket-summary {
        @apply list-none flex flex-col md:flex-row justify-between items-start;
        @apply w-full cursor-pointer;
        @apply hover:bg-gray-100 rounded-xl transition-colors duration-150;
    }

    .ticket-title {
        @apply flex items-center flex-grow pr-2 w-full md:w-auto;
        user-select: none;
        pointer-events: auto;
    }

    .ticket-caret {
        @apply mr-2 flex-shrink-0;
        pointer-events: none;
        user-select: none;
    }

    .ticket-caret::before {
        content: '';
        @apply block w-0 h-0;
        border-left: 6px solid var(--color-primary);
        border-top: 4px solid transparent;
        border-bottom: 4px solid transparent;
        transform-origin: center;
        transition: transform 200ms cubic-bezier(0.4, 0, 1, 1);
    }

    details[open] .ticket-caret::before {
        @apply rotate-90;
        transition: transform 180ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .ticket-info {
        @apply flex flex-wrap justify-end items-center mt-1 md:mt-0 self-end md:self-auto;
    }

    .ticket-details {
        @apply rounded-2xl p-3 -mb-1 -mx-1 mt-3 shadow-inner border border-forest-100 bg-forest-50;
        display: grid;
        grid-template-rows: 0fr;
        transition: grid-template-rows 300ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    details[open] .ticket-details {
        grid-template-rows: 1fr;
        transition: grid-template-rows 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .ticket-details-content {
        @apply overflow-hidden;
    }

    .ticket-actions {
        @apply flex justify-end gap-2;
        @apply opacity-0 translate-y-1;
        transition: opacity 200ms cubic-bezier(0.4, 0, 1, 1), transform 200ms cubic-bezier(0.4, 0, 1, 1);
    }

    details[open] .ticket-actions {
        @apply opacity-100 translate-y-0;
        transition: opacity 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 120ms, transform 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 120ms;
    }

    /* .ticket-actions-closing removida - usando transiciones CSS nativas */

    .ticket-no-messages {
        @apply bg-red-50 border-red-400 text-red-700 px-4 py-3 rounded-lg border-l-4 mb-4 font-sans;
    }

    .ticket-message {
        @apply mb-3;
    }

    .message-author {
        @apply text-xs text-forest-600 ml-2 font-sans translate-y-[0.02rem] italic;
    }

    .user-icon::before {
        content: '●';
        @apply text-xs text-forest-400 mr-0.5;
    }

    .ticket-message-body {
        @apply ml-8 mb-2 bg-white border border-forest-200 text-sm p-1.5 rounded-xl text-forest-700 font-sans cursor-default;
        @apply relative;
    }

    .ticket-message-date {
        @apply text-[10px] text-forest-400 italic pointer-events-none font-sans;
        @apply absolute bottom-1.5 right-1.5;
        @apply m-0 p-0;
    }

    .message-attachments {
        @apply flex flex-col items-end space-y-1 mt-2 mx-4;
    }

    .attachment-link {
        @apply flex items-center text-[10px] text-forest-400 hover:text-forest-600 no-underline;
        @apply transition-colors duration-200;
    }

    .attachment-icon::before {
        content: '⚬';
        @apply mr-1 text-[10px];
    }

    .attachment-name {
        @apply font-mono;
    }





    .ticket-status-icon::before {
        @apply content-['●'] mr-1;
    }

    .status-open .ticket-status-icon::before {
        @apply content-['●'];
    }

    .status-feedback .ticket-status-icon::before {
        @apply content-['💬'];
    }


    .status-solved .ticket-status-icon::before {
        @apply content-['✓'];
    }

    .status-authorized .ticket-status-icon::before {
        @apply content-['✓'];
    }

    .status-budgeted .ticket-status-icon::before {
        @apply content-['▦'];
    }

    .status-rejected .ticket-status-icon::before {
        @apply content-['×'];
    }

    .status-payment_authorized .ticket-status-icon::before {
        @apply content-['▢'];
    }

    .status-processing_payment .ticket-status-icon::before {
        @apply content-['⚬'];
    }

    .status-shipping .ticket-status-icon::before {
        @apply content-['↗'];
    }

    .status-closed .ticket-status-icon::before {
        @apply content-['🔒'];
    }

    .status-unknown .ticket-status-icon::before {
        @apply content-['❓'];
    }

    .ticket-status-badge {
        @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium;
    }

    .ticket-header {
        @apply flex items-center justify-between p-4 border-b border-border;
    }

    .ticket-timeline {
        @apply space-y-4 p-4;
    }

    .ticket-timeline-item {
        @apply flex items-start space-x-3;
    }

    .ticket-timeline-icon {
        @apply flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm;
    }

    .ticket-timeline-content {
        @apply flex-1 min-w-0;
    }

    .ticket-attachment-list {
        @apply space-y-2 mt-3 p-3 bg-surface rounded-lg border border-border;
    }

    .ticket-attachment-item {
        @apply flex items-center space-x-2 text-sm;
    }

    /* Ticket Detail Page - Vista de detalle */
    .ticket-detail-header {
        @apply mb-6;
    }

    .ticket-detail-back {
        @apply text-sm text-forest-600 hover:text-forest-700 transition-colors duration-200;
        @apply inline-flex items-center gap-1;
    }

    .ticket-detail-container {
        @apply mb-8;
    }

    .ticket-detail-container .ticket-container {
        @apply bg-white border border-forest-200 shadow-sm;
        @apply mb-0;
    }

    .ticket-detail-container .ticket-summary {
        @apply hover:bg-transparent;
    }

    .ticket-detail-response-section {
        @apply bg-white rounded-lg border border-forest-200 shadow-sm p-6;
    }

    .ticket-response-form {
        @apply space-y-4;
    }

    .form-help {
        @apply text-xs text-forest-500 mt-1;
    }

    .ticket-response-actions {
        @apply flex gap-3 pt-4;
    }

    .attachment-input-row {
        @apply flex items-center gap-2 mb-2;
    }

    .attachment-input {
        @apply flex-1;
    }

    .add-attachment,
    .remove-attachment {
        @apply w-8 h-8 flex items-center justify-center rounded border text-xs font-bold bg-forest-50 border-forest-200 text-forest-600 hover:bg-forest-100 transition-colors duration-200 cursor-pointer;
    }
    .remove-attachment {
        @apply bg-red-50 border-red-200 text-red-600 hover:bg-red-100;
    }
    .response-action-submit {
        @apply text-sm bg-forest-500 border border-forest-400 text-white rounded-full py-2 px-4 inline-flex items-center font-medium cursor-pointer hover:brightness-110 transition-all duration-200 uppercase tracking-wide font-[var(--font-ui)];
    }
    .response-action-cancel {
        @apply text-sm bg-forest-100 border border-forest-300 text-forest-600 rounded-full py-2 px-4 inline-flex items-center font-medium cursor-pointer hover:bg-forest-200 transition-all duration-200 no-underline uppercase tracking-wide font-[var(--font-ui)];
    }
    .attachment-details {
        @apply mt-3;
    }
    .attachment-summary {
        @apply cursor-pointer select-none flex items-center py-2 px-3 text-forest-600 hover:text-forest-700 hover:bg-forest-50 rounded transition-colors duration-200 border border-transparent hover:border-forest-200 list-none;
    }
    .attachment-summary::-webkit-details-marker,
    .attachment-summary::marker {
        @apply hidden;
    }
    .attachment-content {
        @apply pl-6 grid transition-[grid-template-rows] duration-300 ease-in-out;
        grid-template-rows: 0fr;
    }
    .attachment-details[open] .attachment-content {
        @apply transition-[grid-template-rows] duration-250 ease-in-out;
        grid-template-rows: 1fr;
    }
    .attachment-content > div {
        @apply overflow-hidden;
    }
    .ticket-container-detail {
        @apply rounded-2xl p-3 mb-3 font-sans bg-white border border-forest-200 shadow-sm;
    }

    .ticket-summary-detail {
        @apply flex flex-col md:flex-row justify-between items-start;
        @apply w-full;
    }

    .ticket-title-detail {
        @apply flex items-center flex-grow pr-2 w-full md:w-auto;
        @apply text-lg font-medium text-text;
    }

    .ticket-details-detail {
        @apply rounded-2xl p-3 -mb-1 -mx-1 mt-3 shadow-inner border border-forest-100 bg-forest-50;
    }

    .ticket-details-detail .ticket-details-content {
        @apply overflow-visible;
    }

    .ticket-details-detail .ticket-actions {
        @apply flex justify-end gap-2 mt-4;
        @apply opacity-100 translate-y-0;
    }

    /* Attachment Viewer - Vista de adjuntos */
    .attachment-viewer {
        @apply max-w-6xl mx-auto p-4;
    }

    .attachment-header {
        @apply mb-6 pb-4 border-b border-forest-200;
    }

    .attachment-breadcrumb {
        @apply mb-4 text-sm;
    }

    .attachment-back-link {
        @apply text-forest-600 hover:text-forest-700 transition-colors duration-200;
    }

    .attachment-separator {
        @apply mx-2 text-forest-400;
    }

    .attachment-title {
        @apply text-2xl font-bold text-forest-700 mb-3;
    }

    .attachment-meta {
        @apply flex flex-wrap gap-4 text-sm text-forest-600 mb-4;
    }

    .attachment-info {
        @apply bg-forest-50 px-3 py-1 rounded-full text-forest-700;
    }

    .attachment-actions {
        @apply flex gap-3;
    }

    .attachment-download-btn, .attachment-open-btn {
        @apply bg-forest-500 text-white px-4 py-2 rounded-lg hover:bg-forest-400 transition-colors duration-200 no-underline text-sm font-medium;
    }

    .attachment-content {
        @apply bg-white rounded-2xl border border-forest-200 p-6 shadow-sm;
    }

    /* Image Viewer */
    .attachment-image-container {
        @apply text-center;
    }

    .attachment-image {
        @apply max-w-full max-h-[80vh] mx-auto rounded-lg shadow-lg cursor-zoom-in;
    }

    .attachment-image:hover {
        @apply shadow-xl;
    }

    /* PDF Viewer */
    .attachment-pdf-container {
        @apply w-full;
    }

    .attachment-pdf {
        @apply w-full h-[80vh] border border-forest-200 rounded-lg;
    }

    /* File Preview */
    .attachment-file-preview {
        @apply text-center py-12;
    }

    .attachment-file-icon {
        @apply text-6xl mb-4;
    }

    .attachment-file-preview h3 {
        @apply text-xl font-semibold text-forest-700 mb-2;
    }

    .attachment-file-type {
        @apply text-forest-600 text-sm mb-4;
    }

    .attachment-preview-note {
        @apply text-forest-500 text-sm italic;
    }

    /* Ticket Status Indicator - Indicador de estado de ticket */
    .ticket-status-indicator {
        @apply text-right;
    }

    .status-container {
        @apply inline-flex flex-col items-end space-y-1;
    }

    .status-priority-high .status-badge {
        @apply bg-red-50 border-red-200;
    }

    .status-priority-medium .status-badge {
        @apply bg-forest-50 border-forest-200;
    }

    .status-priority-low .status-badge {
        @apply bg-forest-50 border-forest-200;
    }

    .status-priority-none .status-badge {
        @apply bg-gray-50 border-gray-200;
    }

    .status-badge {
        @apply inline-flex items-center px-3 py-1 rounded-full border text-xs font-medium;
        @apply bg-forest-50 border-forest-200 text-forest-700;
    }

    .status-icon {
        @apply mr-1.5;
    }

    .status-icon::before {
        @apply content-['●'];
    }

    .status-icon.status-open::before {
        @apply content-['●'] text-red-600;
    }

    .status-icon.status-authorized::before {
        @apply content-['✓'] text-purple-600;
    }

    .status-icon.status-budgeted::before {
        @apply content-['▦'] text-green-600;
    }

    .status-icon.status-rejected::before {
        @apply content-['×'] text-yellow-600;
    }

    .status-icon.status-payment_authorized::before {
        @apply content-['▢'] text-orange-600;
    }

    .status-icon.status-processing_payment::before {
        @apply content-['⚬'] text-blue-600;
    }

    .status-icon.status-shipping::before {
        @apply content-['↗'] text-earth-400;
    }

    .status-icon.status-closed::before {
        @apply content-['⚫'] text-gray-600;
    }

    .status-icon.status-unknown::before {
        @apply content-['❓'] text-gray-400;
    }

    .status-label {
        @apply font-medium;
    }

    .status-action {
        @apply text-[11px] text-right space-y-0.5;
    }

    .current-action {
        @apply block text-forest-600 font-medium;
    }

    .next-action {
        @apply block text-forest-500 italic;
    }

    /* Improved Back Button - Botón de volver mejorado */
    .detail-back-button {
        @apply inline-flex items-center gap-2 px-4 py-2 rounded-lg border;
        @apply bg-white border-forest-300 text-forest-700;
        @apply hover:bg-forest-50 hover:border-forest-400 hover:text-forest-800;
        @apply transition-all duration-200 no-underline text-sm font-medium;
        @apply shadow-sm hover:shadow-md;
    }

    .detail-back-icon::before {
        content: '←';
        @apply text-base font-normal;
    }

    /* Attachment Viewer - Visor de Adjuntos */
    .attachment-viewer {
        @apply max-w-4xl mx-auto;
    }

    .attachment-header {
        @apply text-center mb-8;
    }

    .attachment-title {
        @apply text-2xl font-bold mb-4;
        @apply text-text font-[var(--font-title)];
    }

    .attachment-meta {
        @apply flex flex-wrap justify-center gap-4 text-sm mb-6;
        @apply text-primary font-[var(--font-ui)];
    }

    .attachment-info {
        @apply bg-surface px-3 py-1 rounded-full border border-border;
    }

    .attachment-content {
        @apply bg-white rounded-lg border border-border shadow-sm overflow-hidden;
    }

    .attachment-image-container {
        @apply flex justify-center items-center p-6;
    }

    .attachment-image {
        @apply max-w-full max-h-[70vh] rounded-lg shadow-lg;
        @apply object-contain;
    }

    .attachment-pdf-container {
        @apply w-full h-[70vh];
    }

    .attachment-pdf {
        @apply w-full h-full border-0;
    }

    .attachment-file-preview {
        @apply text-center p-12;
    }

    .attachment-file-icon {
        @apply text-6xl mb-4;
        @apply text-primary;
    }

    .attachment-file-type {
        @apply text-sm mb-4;
        @apply text-primary font-[var(--font-ui)];
    }

    .attachment-preview-note {
        @apply text-sm;
        @apply text-primary font-[var(--font-ui)];
    }
}