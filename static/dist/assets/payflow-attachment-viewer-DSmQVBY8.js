function d(o){const t=o.naturalWidth,c=o.naturalHeight,e=document.getElementById("file-size");fetch(o.src,{method:"HEAD"}).then(i=>{if(!i.ok){e.textContent=`${t}×${c} px`;return}const n=i.headers.get("content-length");if(n){const l=parseInt(n,10);l<1024?e.textContent=`${l} B`:l<1024*1024?e.textContent=`${(l/1024).toFixed(1)} KB`:e.textContent=`${(l/(1024*1024)).toFixed(1)} MB`}else e.textContent=`${t}×${c} px`}).catch(()=>{e.textContent=`${t}×${c} px`})}window.calculateImageSize=d;document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".attachment-image");o&&o.complete&&d(o);const t=document.getElementById("file-size");if(t&&t.textContent==="Calculando..."){const c=document.querySelector(".attachment-open-btn");c&&fetch(c.href,{method:"HEAD"}).then(e=>{if(!e.ok){t.textContent="Desconocido";return}const i=e.headers.get("content-length");if(i){const n=parseInt(i,10);n<1024?t.textContent=`${n} B`:n<1024*1024?t.textContent=`${(n/1024).toFixed(1)} KB`:t.textContent=`${(n/(1024*1024)).toFixed(1)} MB`}else t.textContent="Desconocido"}).catch(()=>{t.textContent="Desconocido"})}});
