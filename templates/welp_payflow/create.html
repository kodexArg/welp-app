{% extends "core/base.html" %}
{% load core_tags %}
{% load django_vite %}

{% block title %}Crear Solicitud - Welp Payflow{% endblock %}

{% block content %}
<section>
    <h1>Crear Nueva Solicitud</h1>

    <form method="post" enctype="multipart/form-data" hx-target="this" hx-swap="outerHTML" id="payflow-form">
        {% csrf_token %}

        <div id="udn-container"></div>

        <div id="sector-container"></div>

        <div id="accounting-category-container"></div>

        <div id="fields-body-container"></div>


        <div class="component-buttons">
            <button type="button" class="button-secondary" id="reset-form-btn">Limpiar</button>
            <button type="submit" form="payflow-form" class="button-primary">Crear Solicitud</button>
        </div>
        
        {% if form.non_field_errors %}
        <div class="component-buttons mx-auto mt-4">
            {{ form.non_field_errors }}
        </div>
        {% endif %}
    </form>
</section>
{% endblock %}

{% block scripts %}
    {% vite_asset 'frontend/js/welp_payflow/create.js' %}
{% endblock %} 