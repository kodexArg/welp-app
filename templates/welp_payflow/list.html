{% extends "core/base.html" %}
{% load payflow_tags %}
{% load ticket_message_tags %}
{% load django_vite %}
{% load humanize %}

{% block title %}Solicitudes - Welp Payflow{% endblock %}

{% block content %}
<section>
    <h1>Lista de Solicitudes</h1>

    <div class="text-center my-4">
        {% include 'welp_payflow/partials/filters.html' with needs_attention=needs_attention %}
    </div>

    <div id="tickets-container" 
         hx-get="{% url 'welp_payflow:htmx_list_content' %}" 
         hx-trigger="load" 
         hx-swap="innerHTML">
        {# El contenido se cargará aquí vía HTMX #}
        <div class="text-center p-8">
            <i class="fas fa-spinner fa-spin fa-3x text-muted"></i>
        </div>
    </div>
</section>

{% endblock %}

{% block scripts %}
    {# Precarga mermaid.js para navegación fluida a detail.html sin ejecutarlo aquí #}
    {% vite_asset 'frontend/js/mermaid-init.js' %}
{% endblock %} 