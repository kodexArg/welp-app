<section class="dev-section">
    <h2 class="section-title">Workflow de Compras</h2>
    
    <div class="workflow-container">
        
        <div class="workflow-section">
            <h3 class="workflow-section-title">1. INICIO DE SOLICITUD</h3>
            
            <div class="workflow-step">
                <div class="step-header">1.1 Informar necesidad</div>
                <div class="actor-row">
                    <span class="actor-tag">Jefe de área</span>
                    <span class="actor-tag">Persona designada</span>
                </div>
                <div class="attachment-note">
                    <strong>Adjuntos Opcionales:</strong> Especificaciones detalladas
                </div>
            </div>

            <div class="workflow-step decision-step">
                <div class="step-header">1.2 Validar solicitud</div>
                <div class="actor-row">
                    <span class="actor-tag">Jefe de área</span>
                </div>
                <div class="decision-buttons">
                    <span class="decision-btn approve">✓ Aprobado</span>
                    <span class="decision-btn reject">↺ Rechazado (Volver a 1.1)</span>
                </div>
            </div>
        </div>

        <div class="workflow-section">
            <h3 class="workflow-section-title">2. GESTIÓN DE PRESUPUESTOS</h3>
            
            <div class="workflow-step">
                <div class="step-header">2.1 Obtener y Cargar Presupuestos</div>
                <div class="actor-row">
                    <span class="actor-tag">Resp. de Compras (Operaciones)</span>
                    <span class="actor-tag">Resp. de Compras (Sistemas/Técnica)</span>
                </div>
                <div class="attachment-note required">
                    <strong>Adjuntos Requeridos:</strong> Presupuestos de proveedores (PDF/JPG)
                </div>
            </div>
        </div>

        <div class="workflow-section">
            <h3 class="workflow-section-title">3. APROBACIÓN DE COMPRA</h3>
            
            <div class="workflow-step decision-step">
                <div class="step-header">3.1 Selección del Presupuesto y Ejecución de Compra</div>
                <div class="actor-row">
                    <span class="actor-tag">Líder de UDN</span>
                    <span class="actor-tag">CEO</span>
                </div>
                <div class="decision-buttons">
                    <span class="decision-btn approve">✓ Aprobado</span>
                    <span class="decision-btn reject">↺ Rechazado</span>
                    <span class="decision-btn special">Aprobación directa</span>
                </div>
            </div>

            <div class="workflow-step decision-step">
                <div class="step-header">3.2 Aprobación Especial</div>
                <div class="actor-row">
                    <span class="actor-tag">Director/Accionista</span>
                </div>
                <div class="decision-buttons">
                    <span class="decision-btn approve">✓ Aprobado</span>
                    <span class="decision-btn reject">↺ Rechazado</span>
                </div>
            </div>
        </div>

        <div class="workflow-section">
            <h3 class="workflow-section-title">4. EJECUCIÓN DE COMPRA Y PAGO</h3>
            
            <div class="workflow-step">
                <div class="step-header">4.1 Generar Orden de Compra</div>
                <div class="actor-row">
                    <span class="actor-tag">Resp. de Compras</span>
                </div>
                <div class="attachment-note required">
                    <strong>Adjuntos Requeridos:</strong> Orden de Compra (borrador), Factura Proveedor
                </div>
            </div>

            <div class="workflow-step">
                <div class="step-header">4.2 Procesos en Tango Gestión</div>
                <div class="actor-row">
                    <span class="actor-tag">Resp. de Compras</span>
                </div>
                <div class="task-list">
                    <div class="task-item">• Emitir Orden de Compra (definitiva)</div>
                    <div class="task-item">• Adjuntar datos de proveedor</div>
                    <div class="task-item">• Especificar sistema de pago</div>
                    <div class="task-item">• Realizar seguimiento del pago</div>
                </div>
            </div>

            <div class="workflow-step">
                <div class="step-header">4.3 Registrar Artículos para estadísticos</div>
                <div class="actor-row">
                    <span class="actor-tag">Resp. de Compras</span>
                </div>
            </div>

            <div class="workflow-step waiting-step">
                <div class="step-header">Esperando recepción del producto</div>
                <div class="waiting-note">El Resp. de Compras se encarga de su seguimiento</div>
            </div>

            <div class="workflow-step">
                <div class="step-header">4.4 Confirmar Pago y Notificar para Recepción</div>
                <div class="actor-row">
                    <span class="actor-tag">Resp. de Compras</span>
                </div>
            </div>
        </div>

        <div class="workflow-section">
            <h3 class="workflow-section-title">5. RECEPCIÓN Y CONFORMIDAD</h3>
            
            <div class="workflow-step decision-step">
                <div class="step-header">5.1 Confirmar Recepción y Conformidad</div>
                <div class="actor-row">
                    <span class="actor-tag">Persona designada</span>
                    <span class="actor-tag">Jefe de área</span>
                </div>
                <div class="decision-buttons">
                    <span class="decision-btn approve">✓ Conforme</span>
                    <span class="decision-btn reject">↺ Con Observaciones</span>
                </div>
                <div class="attachment-note required">
                    <strong>Adjuntos Requeridos:</strong> Foto producto / Evidencia servicio, Remito conformado
                </div>
            </div>
        </div>

        <div class="workflow-section">
            <h3 class="workflow-section-title">6. CIERRE DEL TICKET</h3>
            
            <div class="workflow-step">
                <div class="step-header">6.1 Revisión Final y Cierre Administrativo</div>
                <div class="actor-row">
                    <span class="actor-tag">Jefe de área</span>
                </div>
            </div>
        </div>

        <div class="transversal-note">
            <h4>Funcionalidad Transversal</h4>
            <p>Se pueden agregar comentarios, adjuntos o consultas en cualquier etapa del ticket. Esto lo puede hacer cualquier involucrado en el proceso. Estos comentarios no cambian el workflow y son solo informativos.</p>
        </div>
    </div>
</section>

<style>
    .dev-section {
        @apply mb-12;
    }

    .section-title {
        @apply text-xl font-medium mb-6;
        color: var(--theme-text-secondary);
        font-family: var(--font-ui);
    }

    .workflow-container {
        @apply space-y-8;
    }

    .workflow-section {
        @apply space-y-4;
    }

    .workflow-section-title {
        @apply text-lg font-semibold mb-4 text-center;
        color: var(--theme-text);
        font-family: var(--font-ui);
        padding-bottom: 8px;
        border-bottom: 2px solid var(--theme-primary-light);
    }

    .workflow-step {
        @apply bg-white border border-gray-200 rounded-lg p-4 shadow-sm;
        transition: box-shadow 0.2s ease-in-out;
    }

    .workflow-step:hover {
        @apply shadow-md;
    }

    .decision-step {
        @apply border-yellow-300 bg-yellow-50;
    }

    .waiting-step {
        @apply border-gray-300 bg-gray-50 text-center;
    }

    .step-header {
        @apply font-semibold text-gray-900 mb-2;
        font-family: var(--font-ui);
    }

    .actor-row {
        @apply flex flex-wrap gap-2 mb-3;
    }

    .actor-tag {
        @apply text-xs font-medium py-1 px-3 rounded-full border;
        background-color: var(--theme-primary-light);
        color: var(--theme-primary);
        border-color: var(--theme-primary);
        font-family: var(--font-ui);
    }

    .attachment-note {
        @apply text-xs text-blue-700 bg-blue-50 border border-blue-200 rounded p-2 mt-2;
    }

    .attachment-note.required {
        @apply text-red-700 bg-red-50 border-red-200;
    }

    .decision-buttons {
        @apply flex flex-wrap gap-2 mt-3;
    }

    .decision-btn {
        @apply text-xs font-medium py-2 px-3 rounded-md border text-center;
        font-family: var(--font-ui);
    }

    .decision-btn.approve {
        @apply bg-green-100 text-green-700 border-green-300;
    }

    .decision-btn.reject {
        @apply bg-red-100 text-red-700 border-red-300;
    }

    .decision-btn.special {
        @apply bg-indigo-100 text-indigo-700 border-indigo-300;
    }

    .task-list {
        @apply mt-3 space-y-1;
    }

    .task-item {
        @apply text-sm text-gray-600 py-1;
        font-family: var(--font-ui);
    }

    .waiting-note {
        @apply text-sm text-gray-600 mt-2;
        font-family: var(--font-ui);
    }

    .transversal-note {
        @apply bg-green-50 border border-green-200 rounded-lg p-4 mt-8;
    }

    .transversal-note h4 {
        @apply font-semibold text-green-800 mb-2;
        font-family: var(--font-ui);
    }

    .transversal-note p {
        @apply text-sm text-green-700;
        font-family: var(--font-ui);
    }
</style> 