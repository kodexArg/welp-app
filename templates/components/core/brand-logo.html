<div class="brand-logo h-full flex items-center">
    <a href="{{ home_url }}" 
       class="flex items-center h-full pt-2 pl-2
              font-brand font-bold text-3xl tracking-wide 
              no-underline transition-all duration-300">
        {% if show_text %}
            <span class="brand-text hidden min-[30rem]:inline mr-1 transition-colors duration-300">Welp</span>
        {% endif %}
        <div class="relative">
            <i class="absolute text-4xl brand-icon brand-shadow-1
                      blur-[0.4rem] translate-x-[-0.05rem] translate-y-[0.05rem] 
                      opacity-50 transition-all duration-300"></i>
            <i class="absolute text-4xl brand-icon brand-shadow-2
                      blur-[0.2rem] translate-x-[-0.05rem] translate-y-[0.05rem] 
                      opacity-20 transition-all duration-300"></i>
            <i class="relative text-4xl brand-icon brand-icon-main
                      translate-x-[0.05rem] translate-y-[-0.05rem]
                      brand-logo-glow opacity-80 transition-all duration-300"></i>
        </div>
        {% if show_text %}
            <span class="brand-text hidden min-[30rem]:inline ml-1 transition-colors duration-300">{{ brand_text }}</span>
        {% endif %}
    </a>
</div>

<style>
@layer components {
    /* Solo variables CSS espec√≠ficas de tema y pseudo-elementos */
    .brand-text {
        color: var(--navbar-brand-text);
    }
    
    /* √çconos espec√≠ficos por tema - CSS necesario para pseudo-elementos */
    .brand-icon::before {
        content: "\f590"; /* fa-headset fallback */
        font-family: "Font Awesome 6 Free";
        font-weight: 900;
        font-style: normal;
    }
    
    [data-theme="slate"] .brand-icon::before {
        content: "\f590"; /* fa-headset */
    }
    
    [data-theme="sky"] .brand-icon::before {
        content: "\f590"; /* fa-headset */
    }
    
    [data-theme="forest"] .brand-icon::before {
        content: "\f651"; /* fa-comment-dollar */
    }
    
    /* Colores din√°micos */
    .brand-shadow-1,
    .brand-shadow-2,
    .brand-icon-main {
        color: var(--navbar-brand-icon-color);
        filter: drop-shadow(0 0 4px var(--navbar-brand-icon-color));
    }
    
    .brand-icon-main {
        filter: drop-shadow(0 0 1px rgba(0, 0, 0, 0.1));
    }
    
    /* Animaci√≥n de glow */
    .brand-logo-glow {
        animation: brief-glow 30s ease-in-out infinite;
    }
    
    @keyframes brief-glow {
        0%, 4%, 100% {
            filter: brightness(1) drop-shadow(0 0 0 transparent);
        }
        1% {
            filter: brightness(1.3) drop-shadow(0 0 12px var(--navbar-brand-icon-color));
        }
    }
    
    /* Hover effects */
    .brand-logo:hover .brand-icon-main {
        opacity: 1;
        filter: brightness(1.1) 
                drop-shadow(0 0 1px rgba(0, 0, 0, 0.1)) 
                drop-shadow(0 0 8px var(--navbar-brand-icon-color));
    }
    
    .brand-logo:hover .brand-text {
        filter: brightness(1.05);
    }
    
    .brand-logo:hover .brand-shadow-1,
    .brand-logo:hover .brand-shadow-2 {
        opacity: 0.25;
        filter: drop-shadow(0 0 6px var(--navbar-brand-icon-color));
    }
    
    @media (prefers-reduced-motion: reduce) {
        .brand-logo-glow {
            animation: none;
        }
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const brandLogos = document.querySelectorAll('.brand-logo');
    
    brandLogos.forEach(function(logo) {
        const iconElement = logo.querySelector('.brand-logo-glow');
        
        if (iconElement) {
            logo.addEventListener('mouseenter', function() {
                iconElement.style.filter = 'brightness(1.2) drop-shadow(0 0 10px var(--navbar-brand-icon-color))';
            });
            
            logo.addEventListener('mouseleave', function() {
                iconElement.style.filter = '';
            });
        }
    });
    
    // Escuchar cambios de tema para actualizar efectos
    document.addEventListener('themeChanged', function(event) {
        console.log(`üé® Brand logo adaptado al tema: ${event.detail.theme}`);
        
        // Forzar repaint para cambio de √≠cono
        const brandIcons = document.querySelectorAll('.brand-icon');
        brandIcons.forEach(icon => {
            icon.style.transform = 'scale(0.99)';
            setTimeout(() => {
                icon.style.transform = '';
            }, 50);
        });
    });
});
</script> 